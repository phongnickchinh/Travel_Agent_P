<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Register - Travel Agent P</title>
    <link rel="stylesheet" href="css/register.css">
</head>
<body>
    <div class="container">
        <div class="register-card">
            <div class="logo">
                <h1>‚úàÔ∏è Travel Agent P</h1>
                <p>Create your account</p>
            </div>

            <!-- Step 1: Registration Form -->
            <div id="step1" class="step active">
                <form id="registerForm">
                    <div class="form-group">
                        <label for="email">Email Address *</label>
                        <input 
                            type="email" 
                            id="email" 
                            name="email" 
                            placeholder="Enter your email"
                            required
                        >
                        <span class="error-message" id="emailError"></span>
                    </div>

                    <div class="form-group">
                        <label for="password">Password *</label>
                        <input 
                            type="password" 
                            id="password" 
                            name="password" 
                            placeholder="Enter password (6-20 characters)"
                            required
                        >
                        <span class="error-message" id="passwordError"></span>
                    </div>

                    <div class="form-group">
                        <label for="confirmPassword">Confirm Password *</label>
                        <input 
                            type="password" 
                            id="confirmPassword" 
                            name="confirmPassword" 
                            placeholder="Re-enter your password"
                            required
                        >
                        <span class="error-message" id="confirmPasswordError"></span>
                    </div>

                    <div class="form-group">
                        <label for="username">Username *</label>
                        <input 
                            type="text" 
                            id="username" 
                            name="username" 
                            placeholder="Choose a username"
                            required
                        >
                        <span class="error-message" id="usernameError"></span>
                    </div>

                    <div class="form-group">
                        <label for="name">Full Name *</label>
                        <input 
                            type="text" 
                            id="name" 
                            name="name" 
                            placeholder="Enter your full name"
                            required
                        >
                        <span class="error-message" id="nameError"></span>
                    </div>

                    <div class="form-group">
                        <label for="language">Language *</label>
                        <select id="language" name="language" required>
                            <option value="en">English</option>
                            <option value="vn">Ti·∫øng Vi·ªát</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="timezone">Timezone *</label>
                        <select id="timezone" name="timezone" required>
                            <option value="Asia/Ho_Chi_Minh">Asia/Ho Chi Minh (GMT+7)</option>
                            <option value="America/New_York">America/New York (GMT-5)</option>
                            <option value="Europe/London">Europe/London (GMT+0)</option>
                            <option value="Asia/Tokyo">Asia/Tokyo (GMT+9)</option>
                        </select>
                    </div>

                    <div class="info-note" style="background: #f0f7ff; border-left: 4px solid #667eea; padding: 12px 16px; margin: 20px 0; border-radius: 4px;">
                        <p style="margin: 0; font-size: 14px; color: #555;">
                            ‚ÑπÔ∏è <strong>Note:</strong> You can start using the app immediately after registration. 
                            Email verification is optional for better security.
                        </p>
                    </div>

                    <button type="submit" class="btn btn-primary" id="registerBtn">
                        <span class="btn-text">Register</span>
                        <span class="spinner hidden"></span>
                    </button>

                    <div class="footer-text">
                        Already have an account? <a href="index.html">Login here</a>
                    </div>
                </form>
            </div>

            <!-- Step 2: Email Verification -->
            <div id="step2" class="step">
                <div class="verification-container">
                    <div class="verification-icon">üìß</div>
                    <h2>Verify Your Email</h2>
                    <p class="verification-message">
                        We've sent a 6-digit verification code to<br>
                        <strong id="userEmail"></strong>
                    </p>

                    <form id="verificationForm">
                        <div class="form-group">
                            <label for="verificationCode">Enter Verification Code</label>
                            <div class="code-input-container">
                                <input 
                                    type="text" 
                                    id="verificationCode" 
                                    name="verificationCode" 
                                    placeholder="000000"
                                    maxlength="6"
                                    pattern="[0-9]{6}"
                                    required
                                >
                            </div>
                            <span class="error-message" id="codeError"></span>
                        </div>

                        <button type="submit" class="btn btn-primary" id="verifyBtn">
                            <span class="btn-text">Verify Email</span>
                            <span class="spinner hidden"></span>
                        </button>

                        <div class="resend-container">
                            <p class="resend-text">
                                Didn't receive the code?
                                <button type="button" class="btn-link" id="resendBtn">
                                    Resend Code
                                </button>
                            </p>
                            <p class="timer-text" id="resendTimer"></p>
                        </div>
                    </form>

                    <button class="btn btn-secondary" id="backBtn">
                        Back to Registration
                    </button>
                </div>
            </div>

            <!-- Success Message -->
            <div id="successMessage" class="success-popup hidden">
                <div class="success-icon">‚úì</div>
                <h3>Registration Successful!</h3>
                <p>Your email has been verified. Redirecting to login...</p>
            </div>

            <!-- Loading Overlay -->
            <div id="loadingOverlay" class="loading-overlay hidden">
                <div class="loading-spinner"></div>
            </div>
        </div>
    </div>

    <script src="js/register.js"></script>
</body>
</html>
